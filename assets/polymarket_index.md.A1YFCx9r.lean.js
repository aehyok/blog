import{_ as E,p,h as T,v as z,c as r,o as i,j as e,e as y,aj as m,ak as x,al as D,t as d,F as g,B,n as h,d as N,G as P}from"./chunks/framework.YNyXK7N9.js";import{a as U}from"./chunks/index.Dq7h7Pqt.js";const W={class:"polymarket-container"},I={class:"search-form"},M={class:"form-group"},L={class:"form-group"},V={class:"form-group"},$={class:"form-group"},F={class:"button-group"},H=["disabled"],R={key:0,class:"error"},j={key:1,class:"loading"},O={class:"result-info"},Y={class:"table-container"},q={class:"price-calc"},G={key:3,class:"no-data"},J={key:4,class:"no-data"},K={__name:"index",setup(_){const o=p({proxyWallet:"0x0d32e5fc366d846bbca8a82c6d60a6dd718b6336",title:"",limit:100,sortDirection:"DESC"}),u=p([]),c=p(!1),n=p(null),v=T(()=>{let l=u.value;if(o.value.title){const t=o.value.title.toLowerCase();l=l.filter(a=>a.title&&a.title.toLowerCase().includes(t))}return l}),C=l=>/^0x[a-fA-F0-9]{40}$/.test(l),b=async()=>{if(!o.value.proxyWallet){n.value="请输入 ProxyWallet 地址";return}if(!C(o.value.proxyWallet)){n.value=`ProxyWallet 地址格式不正确
应为 0x 开头的 42 位十六进制字符`;return}const l=[10,25,50,100,200],t=Number(o.value.limit);if(!Number.isInteger(t)||t<=0||!l.includes(t)){n.value=`limit 值不合法，请选择：${l.join(", ")}`;return}const a=String(o.value.sortDirection).toUpperCase();if(a!=="ASC"&&a!=="DESC"){n.value="sortDirection 必须为 ASC 或 DESC";return}c.value=!0,n.value=null;try{const s=await U.get("https://data-api.polymarket.com/activity",{params:{user:o.value.proxyWallet,limit:t,sortBy:"TIMESTAMP",sortDirection:a},timeout:1e4});console.log(s,"-------result--------"),s.data&&Array.isArray(s.data)?u.value=s.data:(u.value=[],n.value="API 返回数据格式不正确")}catch(s){console.error("API 请求失败:",s),s.code==="ECONNABORTED"?n.value="请求超时，请检查网络连接":s.response?n.value=`API 错误 (${s.response.status}): ${s.response.statusText}`:s.request?n.value="无法连接到服务器，请检查网络":n.value=`获取数据失败: ${s.message}`,u.value=[],console.log("使用模拟数据进行测试..."),u.value=S()}finally{c.value=!1}},S=()=>[{proxyWallet:"0x0d32e5fc366d846bbca8a82c6d60a6dd718b6336",timestamp:1731470100,conditionId:"0xf910ea36342df52deb045d3437f6011d0e7d46b9df3326422c7eaa3ccb634d52",type:"TRADE",size:98.039214,usdcSize:48.039215,transactionHash:"0x938a6fa014859e67f6337979dbed9a17e2f18e0ba1ad2e6757718a8dd0faeccd",price:.49000000142800004,asset:"51125716007472132041446136984495310770285780708294404174348029552936651205436",side:"BUY",outcomeIndex:1,title:"Bitcoin Up or Down - November 13, 4:15AM-4:30AM ET",slug:"btc-updown-15m-1763025300",icon:"https://polymarket-upload.s3.us-east-2.amazonaws.com/BTC+fullsize.png",eventSlug:"btc-updown-15m-1763025300",outcome:"Down",name:"0x0D32e5fC366d846BbcA8a82C6D60a6DD718b6336-1761759997574",pseudonym:"Bite-Sized-Turban"},{proxyWallet:"0x0d32e5fc366d846bbca8a82c6d60a6dd718b6336",timestamp:1731469800,conditionId:"0xa820ea36342df52deb045d3437f6011d0e7d46b9df3326422c7eaa3ccb634d88",type:"TRADE",size:150.5,usdcSize:90.3,transactionHash:"0x738b6fa014859e67f6337979dbed9a17e2f18e0ba1ad2e6757718a8dd0faed12",price:.6,asset:"61125716007472132041446136984495310770285780708294404174348029552936651205437",side:"SELL",outcomeIndex:0,title:"Ethereum Price Prediction - November 13",slug:"eth-price-1731469800",icon:"https://polymarket-upload.s3.us-east-2.amazonaws.com/ETH+fullsize.png",eventSlug:"eth-price-1731469800",outcome:"Up",name:"0x0D32e5fC366d846BbcA8a82C6D60a6DD718b6336-1731469800",pseudonym:"Crypto-Trader-Pro"},{proxyWallet:"0x0d32e5fc366d846bbca8a82c6d60a6dd718b6336",timestamp:1731469200,conditionId:"0xb920ea36342df52deb045d3437f6011d0e7d46b9df3326422c7eaa3ccb634d99",type:"TRADE",size:75.25,usdcSize:37.625,transactionHash:"0x838c7fa014859e67f6337979dbed9a17e2f18e0ba1ad2e6757718a8dd0faee23",price:.5,asset:"71125716007472132041446136984495310770285780708294404174348029552936651205438",side:"BUY",outcomeIndex:1,title:"Bitcoin Up or Down - November 13, 3:45AM-4:00AM ET",slug:"btc-updown-15m-1731469200",icon:"https://polymarket-upload.s3.us-east-2.amazonaws.com/BTC+fullsize.png",eventSlug:"btc-updown-15m-1731469200",outcome:"Down",name:"0x0D32e5fC366d846BbcA8a82C6D60a6DD718b6336-1731469200",pseudonym:"Market-Master"}],A=()=>{o.value={proxyWallet:"0x0d32e5fc366d846bbca8a82c6d60a6dd718b6336",title:"",limit:100,sortDirection:"DESC"},u.value=[],n.value=null},f=l=>l==null?"0.00":Number(l).toFixed(2),k=(l,t)=>l==null||t==null?"0.00":(Number(l)*Number(t)).toFixed(2),w=l=>l?new Date(l*1e3).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";return z(()=>{b()}),(l,t)=>(i(),r("div",W,[t[11]||(t[11]=e("h1",null," 数据查询",-1)),e("div",I,[e("div",M,[t[4]||(t[4]=e("label",null,"ProxyWallet:",-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.proxyWallet=a),type:"text",placeholder:"输入 proxyWallet 地址"},null,512),[[x,o.value.proxyWallet]])]),e("div",L,[t[5]||(t[5]=e("label",null,"Title:",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.title=a),type:"text",placeholder:"输入标题关键词"},null,512),[[x,o.value.title]])]),e("div",V,[t[7]||(t[7]=e("label",null,"返回条数 (limit):",-1)),m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.limit=a)},t[6]||(t[6]=[e("option",{value:10},"10",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1),e("option",{value:200},"200",-1)]),512),[[D,o.value.limit,void 0,{number:!0}]])]),e("div",$,[t[9]||(t[9]=e("label",null,"排序方向 (sortDirection):",-1)),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.sortDirection=a)},t[8]||(t[8]=[e("option",{value:"DESC"},"降序 (DESC)",-1),e("option",{value:"ASC"},"升序 (ASC)",-1)]),512),[[D,o.value.sortDirection]])]),e("div",F,[e("button",{class:"btn-search",onClick:b,disabled:c.value},d(c.value?"查询中...":"查询"),9,H),e("button",{class:"btn-reset",onClick:A},"重置")])]),n.value?(i(),r("div",R,d(n.value),1)):y("",!0),c.value?(i(),r("div",j,"正在加载数据...")):v.value.length>0?(i(),r(g,{key:2},[e("div",O," 共找到 "+d(v.value.length)+" 条记录 ",1),e("div",Y,[e("table",null,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",null,"时间"),e("th",null,"标题"),e("th",null,"结果"),e("th",null,"类型"),e("th",null,"方向"),e("th",null,"价格"),e("th",null,"数量"),e("th",null,"价格 × 数量"),e("th",null,"USDC 数量")])],-1)),e("tbody",null,[(i(!0),r(g,null,B(v.value,(a,s)=>(i(),r("tr",{key:`${a.transactionHash}-${s}`},[e("td",null,d(w(a.timestamp)),1),e("td",null,d(a.title),1),e("td",null,[e("span",{class:h(["outcome-badge",a.outcome==="Up"?"outcome-up":"outcome-down"])},d(a.outcome),3)]),e("td",null,d(a.type),1),e("td",{class:h(a.side==="BUY"?"side-buy":"side-sell")},d(a.side),3),e("td",null,d(f(a.price)),1),e("td",null,d(f(a.size)),1),e("td",q,d(k(a.price,a.size)),1),e("td",null,d(f(a.usdcSize)),1)]))),128))])])])],64)):!c.value&&u.value.length>0?(i(),r("div",G," 没有符合筛选条件的数据 ")):c.value?y("",!0):(i(),r("div",J," 暂无数据 "))]))}},Q=E(K,[["__scopeId","data-v-c48194f2"]]),te=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"home"},"headers":[],"relativePath":"polymarket/index.md","filePath":"polymarket/index.md","lastUpdated":1763091158000}'),X={name:"polymarket/index.md"},ae=N({...X,setup(_){return(o,u)=>(i(),r("div",null,[P(Q)]))}});export{te as __pageData,ae as default};
