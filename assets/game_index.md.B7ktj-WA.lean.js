import{_ as U,p as a,h as z,v as A,x as L,c as m,o as h,j as s,t as o,n as _,F as M,B,e as q,d as K,G as Q}from"./chunks/framework.DxMCroLl.js";const W={class:"app"},X={class:"stats"},Y={class:"stat-item"},Z={class:"stat-value"},ee={class:"stat-item"},te={class:"stat-value timer"},se={class:"stat-item"},ae={class:"stat-value"},le={class:"controls"},oe=["disabled"],re={class:"grid"},ue=["onClick"],ne={key:0,style:{"margin-top":"10px"}},ce={class:"history-time"},ve={__name:"shuerte",setup(E){const b=a([]),c=a(1),C=a([]),n=a(!1),p=a(!1),T=a(0),y=a(0),g=a(0),v=a(null),f=a([]),u=a(null),S=a([]),I=a(!1),N=a(!1),F=a(""),k=a(!1),i=a(!0),d=a(!0),G=z(()=>[...f.value].reverse()),x=()=>{const e=Array.from({length:25},(t,l)=>l+1);for(let t=e.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[e[t],e[l]]=[e[l],e[t]]}return e},D=()=>{b.value=x(),H()},H=()=>{c.value=1,C.value=[],n.value=!1,p.value=!1,y.value=0,g.value=0,S.value=[],I.value=!1,k.value=!1,u.value&&(clearInterval(u.value),u.value=null)},J=(e,t)=>{p.value||(!n.value&&e===1&&(n.value=!0,T.value=Date.now(),O()),n.value&&e===c.value?(C.value.push(e),c.value++,c.value>25&&V()):n.value?$(`请点击数字 ${c.value}`,t):!n.value&&e!==1&&$("请先点击数字 1 开始游戏",t))},$=(e,t)=>{F.value=e,N.value=!0,S.value.push(t),setTimeout(()=>{N.value=!1},2e3),setTimeout(()=>{S.value=S.value.filter(l=>l!==t)},500)},O=()=>{u.value=setInterval(()=>{y.value=Date.now()-T.value},10)},V=()=>{if(p.value=!0,g.value=y.value,k.value=!v.value||g.value<v.value,k.value){v.value=g.value;try{localStorage.setItem("schulte-best-time",v.value.toString())}catch(e){console.error("Failed to save best time:",e)}}f.value.push({time:g.value,date:new Date});try{localStorage.setItem("schulte-history",JSON.stringify(f.value))}catch(e){console.error("Failed to save history:",e)}u.value&&(clearInterval(u.value),u.value=null),I.value=!0},j=()=>{i.value=!i.value;try{localStorage.setItem("schulte-show-clicked",i.value.toString())}catch(e){console.error("Failed to save setting:",e)}},P=()=>{d.value=!d.value;try{localStorage.setItem("schulte-show-hover",d.value.toString())}catch(e){console.error("Failed to save setting:",e)}},w=e=>{if(!e)return"00:00.00";const t=Math.floor(e%1e3/10),l=Math.floor(e/1e3)%60;return`${Math.floor(e/6e4).toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}.${t.toString().padStart(2,"0")}`},R=()=>{try{const e=localStorage.getItem("schulte-best-time");e&&(v.value=parseInt(e));const t=localStorage.getItem("schulte-history");t&&(f.value=JSON.parse(t));const l=localStorage.getItem("schulte-show-clicked");l!==null&&(i.value=l==="true");const r=localStorage.getItem("schulte-show-hover");r!==null&&(d.value=r==="true")}catch(e){console.error("Failed to load saved data:",e)}};return A(()=>{R(),D()}),L(()=>{u.value&&clearInterval(u.value)}),(e,t)=>(h(),m(M,null,[s("div",W,[t[5]||(t[5]=s("h1",null,"舒尔特表格训练器",-1)),s("div",X,[s("div",Y,[t[0]||(t[0]=s("div",{class:"stat-label"},"当前进度",-1)),s("div",Z,o(c.value-1)+"/25",1)]),s("div",ee,[t[1]||(t[1]=s("div",{class:"stat-label"},"计时",-1)),s("div",te,o(w(y.value)),1)]),s("div",se,[t[2]||(t[2]=s("div",{class:"stat-label"},"最佳成绩",-1)),s("div",ae,o(v.value?w(v.value):"--:--"),1)])]),s("div",le,[s("button",{class:"start-btn",disabled:n.value&&!p.value,onClick:D},o(n.value&&!p.value?"游戏进行中":"开始新游戏"),9,oe),s("button",{class:"reset-btn",onClick:H},"重置"),s("button",{class:_(["toggle-btn",{active:i.value}]),onClick:j},o(i.value?"隐藏已点":"显示已点"),3),s("button",{class:_(["toggle-btn hover-toggle",{active:d.value}]),onClick:P},o(d.value?"隐藏悬停":"显示悬停"),3)]),s("div",re,[(h(!0),m(M,null,B(b.value,(l,r)=>(h(),m("div",{key:r,class:_(["cell",{clicked:i.value&&C.value.includes(l),error:S.value.includes(r),"no-hover":!d.value}]),onClick:me=>J(l,r)},o(l),11,ue))),128))]),s("div",{class:_(["completion-message",{show:I.value}])},[t[3]||(t[3]=s("div",{class:"completion-title"},"🎉 恭喜完成！",-1)),s("div",null,"完成时间: "+o(w(g.value)),1),k.value?(h(),m("div",ne,"🏆 新的最佳记录！")):q("",!0)],2),s("div",{class:_(["history",{show:f.value.length>0}])},[t[4]||(t[4]=s("h3",null,"历史记录",-1)),s("div",null,[(h(!0),m(M,null,B(G.value,(l,r)=>(h(),m("div",{key:r,class:"history-item"},[s("span",null,"第 "+o(f.value.length-r)+" 次",1),s("span",ce,o(w(l.time)),1)]))),128))])],2)]),s("div",{class:_(["error-message",{show:N.value}])},o(F.value),3)],64))}},ie=U(ve,[["__scopeId","data-v-6b3ccdc9"]]),ge=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"game/index.md","filePath":"game/index.md","lastUpdated":1748475861000}'),de={name:"game/index.md"},fe=K({...de,setup(E){return(b,c)=>(h(),m("div",null,[Q(ie)]))}});export{ge as __pageData,fe as default};
