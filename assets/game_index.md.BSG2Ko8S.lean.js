import{_ as H,p as g,h as F,v as ee,x as te,c as m,o as h,j as e,t as d,ah as se,ai as le,F as P,B as x,n as S,N as $,e as N,a as R,d as ae,aj as ne,J as oe,b as B}from"./chunks/framework.Crtr1jMB.js";const ie={class:"app"},re={class:"stats"},ue={class:"stat-item"},ce={class:"stat-value"},de={class:"stat-item"},ve={class:"stat-value timer"},ge={class:"stat-item"},he={class:"stat-value"},me={class:"controls"},fe={class:"control-row"},pe={class:"grid-size-selector"},_e=["disabled"],ye=["value"],be={class:"control-row"},we=["disabled"],Se={class:"control-row"},ke=["onClick"],De={key:0,style:{"margin-top":"10px"}},Ce={class:"history-time"},Pe={__name:"shuerte",setup(i){const t=[{value:1,label:"1Ã—1 (1æ ¼)"},{value:2,label:"2Ã—2 (4æ ¼)"},{value:3,label:"3Ã—3 (9æ ¼)"},{value:4,label:"4Ã—4 (16æ ¼)"},{value:5,label:"5Ã—5 (25æ ¼)"},{value:6,label:"6Ã—6 (36æ ¼)"},{value:7,label:"7Ã—7 (49æ ¼)"}],n=g(5),f=g([]),o=g(1),r=g([]),s=g(!1),u=g(!1),v=g(0),y=g(0),b=g(0),w=g(null),k=g([]),_=g(null),L=g([]),T=g(!1),A=g(!1),j=g(""),I=g(!1),D=g(!0),C=g(!0),G=F(()=>n.value*n.value),J=F(()=>[...k.value].reverse()),V=()=>{const l=Array.from({length:G.value},(a,c)=>c+1);for(let a=l.length-1;a>0;a--){const c=Math.floor(Math.random()*(a+1));[l[a],l[c]]=[l[c],l[a]]}return l},q=()=>{U(),O()},O=()=>{f.value=V(),E()},E=()=>{o.value=1,r.value=[],s.value=!1,u.value=!1,y.value=0,b.value=0,L.value=[],T.value=!1,I.value=!1,_.value&&(clearInterval(_.value),_.value=null)},K=(l,a)=>{u.value||(!s.value&&l===1&&(s.value=!0,v.value=Date.now(),Q()),s.value&&l===o.value?(r.value.push(l),o.value++,o.value>G.value&&W()):s.value?z(`è¯·ç‚¹å‡»æ•°å­— ${o.value}`,a):!s.value&&l!==1&&z("è¯·å…ˆç‚¹å‡»æ•°å­— 1 å¼€å§‹æ¸¸æˆ",a))},z=(l,a)=>{j.value=l,A.value=!0,L.value.push(a),setTimeout(()=>{A.value=!1},2e3),setTimeout(()=>{L.value=L.value.filter(c=>c!==a)},500)},Q=()=>{_.value=setInterval(()=>{y.value=Date.now()-v.value},10)},W=()=>{if(u.value=!0,b.value=y.value,I.value=!w.value||b.value<w.value,I.value){w.value=b.value;try{localStorage.setItem(`schulte-best-time-${n.value}x${n.value}`,w.value.toString())}catch(l){console.error("Failed to save best time:",l)}}k.value.push({time:b.value,date:new Date});try{localStorage.setItem(`schulte-history-${n.value}x${n.value}`,JSON.stringify(k.value))}catch(l){console.error("Failed to save history:",l)}_.value&&(clearInterval(_.value),_.value=null),T.value=!0},X=()=>{D.value=!D.value;try{localStorage.setItem("schulte-show-clicked",D.value.toString())}catch(l){console.error("Failed to save setting:",l)}},Y=()=>{C.value=!C.value;try{localStorage.setItem("schulte-show-hover",C.value.toString())}catch(l){console.error("Failed to save setting:",l)}},M=l=>{if(!l)return"00:00.00";const a=Math.floor(l%1e3/10),c=Math.floor(l/1e3)%60;return`${Math.floor(l/6e4).toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}.${a.toString().padStart(2,"0")}`},U=()=>{try{const l=localStorage.getItem(`schulte-best-time-${n.value}x${n.value}`);l?w.value=parseInt(l):w.value=null;const a=localStorage.getItem(`schulte-history-${n.value}x${n.value}`);a?k.value=JSON.parse(a):k.value=[];const c=localStorage.getItem("schulte-show-clicked");c!==null&&(D.value=c==="true");const p=localStorage.getItem("schulte-show-hover");p!==null&&(C.value=p==="true");const Z=localStorage.getItem("schulte-grid-size");Z&&(n.value=parseInt(Z))}catch(l){console.error("Failed to load saved data:",l)}};return ee(()=>{U(),O()}),te(()=>{_.value&&clearInterval(_.value)}),(l,a)=>(h(),m(P,null,[e("div",ie,[a[6]||(a[6]=e("h1",null,"èˆ’å°”ç‰¹è¡¨æ ¼è®­ç»ƒå™¨",-1)),e("div",re,[e("div",ue,[a[1]||(a[1]=e("div",{class:"stat-label"},"å½“å‰è¿›åº¦",-1)),e("div",ce,d(o.value-1)+"/"+d(G.value),1)]),e("div",de,[a[2]||(a[2]=e("div",{class:"stat-label"},"è®¡æ—¶",-1)),e("div",ve,d(M(y.value)),1)]),e("div",ge,[a[3]||(a[3]=e("div",{class:"stat-label"},"æœ€ä½³æˆç»©",-1)),e("div",he,d(w.value?M(w.value):"--:--"),1)])]),e("div",me,[e("div",fe,[e("div",pe,[a[4]||(a[4]=e("label",{for:"gridSize"},"ç½‘æ ¼å°ºå¯¸:",-1)),se(e("select",{id:"gridSize","onUpdate:modelValue":a[0]||(a[0]=c=>n.value=c),onChange:q,disabled:s.value&&!u.value},[(h(),m(P,null,x(t,c=>e("option",{key:c.value,value:c.value},d(c.label),9,ye)),64))],40,_e),[[le,n.value]])])]),e("div",be,[e("button",{class:"start-btn",disabled:s.value&&!u.value,onClick:O},d(s.value&&!u.value?"æ¸¸æˆè¿›è¡Œä¸­":"å¼€å§‹æ–°æ¸¸æˆ"),9,we),e("button",{class:"reset-btn",onClick:E},"é‡ç½®")]),e("div",Se,[e("button",{class:S(["toggle-btn",{active:D.value}]),onClick:X},d(D.value?"éšè—å·²ç‚¹":"æ˜¾ç¤ºå·²ç‚¹"),3),e("button",{class:S(["toggle-btn hover-toggle",{active:C.value}]),onClick:Y},d(C.value?"éšè—æ‚¬åœ":"æ˜¾ç¤ºæ‚¬åœ"),3)])]),e("div",{class:"grid",style:$({gridTemplateColumns:`repeat(${n.value}, 1fr)`})},[(h(!0),m(P,null,x(f.value,(c,p)=>(h(),m("div",{key:p,class:S(["cell",{clicked:D.value&&r.value.includes(c),error:L.value.includes(p),"no-hover":!C.value}]),onClick:Z=>K(c,p)},d(c),11,ke))),128))],4),e("div",{class:S(["completion-message",{show:T.value}])},[a[5]||(a[5]=e("div",{class:"completion-title"},"ðŸŽ‰ æ­å–œå®Œæˆï¼",-1)),e("div",null,"å®Œæˆæ—¶é—´: "+d(M(b.value)),1),I.value?(h(),m("div",De,"ðŸ† æ–°çš„æœ€ä½³è®°å½•ï¼")):N("",!0)],2),e("div",{class:S(["history",{show:k.value.length>0}])},[e("h3",null,"åŽ†å²è®°å½• ("+d(n.value)+"Ã—"+d(n.value)+")",1),e("div",null,[(h(!0),m(P,null,x(J.value,(c,p)=>(h(),m("div",{key:p,class:"history-item"},[e("span",null,"ç¬¬ "+d(k.value.length-p)+" æ¬¡",1),e("span",Ce,d(M(c.time)),1)]))),128))])],2)]),e("div",{class:S(["error-message",{show:A.value}])},d(j.value),3)],64))}},xe=H(Pe,[["__scopeId","data-v-4a2684fc"]]),Le={name:"PinyinGame",data(){return{currentLevel:1,score:0,dropZones:["","","",""],selectedPiece:null,draggingIndex:null,dragOverIndex:null,showSuccessAnimation:!1,confettiList:[],availablePieces:[],levels:[{word:"è‹¹æžœ",pinyin:"pÃ­ng guÇ’",answer:["p","Ã­ng","g","uÇ’"],emoji:"ðŸŽ",pieces:["p","Ã­ng","uÇ’","g","b","Ä","m","Ã¬"]},{word:"å°çŒ«",pinyin:"xiÇŽo mÄo",answer:["x","iÇŽo","m","Äo"],emoji:"ðŸ±",pieces:["x","iÇŽo","Äo","m","d","Ã¹","l","Ç"]},{word:"å¤ªé˜³",pinyin:"tÃ i yÃ¡ng",answer:["t","Ã i","y","Ã¡ng"],emoji:"â˜€ï¸",pieces:["t","Ã i","Ã¡ng","y","h","Ä“","w","Ãº"]},{word:"æœˆäº®",pinyin:"yuÃ¨ liÃ ng",answer:["y","uÃ¨","l","iÃ ng"],emoji:"ðŸŒ™",pieces:["y","uÃ¨","iÃ ng","l","s","Ç","n","Çš"]},{word:"èŠ±æœµ",pinyin:"huÄ duÇ’",answer:["h","uÄ","d","uÇ’"],emoji:"ðŸŒ¸",pieces:["h","uÄ","uÇ’","d","k","Ä›","z","Ä«"]}]}},computed:{currentLevelData(){return this.levels[(this.currentLevel-1)%this.levels.length]}},mounted(){this.initGame()},methods:{initGame(){this.loadLevel()},loadLevel(){this.dropZones=["","","",""],this.selectedPiece=null,this.generatePieces()},generatePieces(){const i=[...this.currentLevelData.pieces].sort(()=>Math.random()-.5);this.availablePieces=i.map(t=>({text:t,used:!1}))},isVowel(i){return["Ä","Ã¡","ÇŽ","Ã ","Ä“","Ã©","Ä›","Ã¨","Ä«","Ã­","Ç","Ã¬","Å","Ã³","Ç’","Ã²","Å«","Ãº","Ç”","Ã¹","Çš","Ç˜","Çœ","Ç–","Äi","Ã¡i","ÇŽi","Ã i","Ä“i","Ã©i","Ä›i","Ã¨i","Äo","Ã¡o","ÇŽo","Ã o","Åu","Ã³u","Ç’u","Ã²u","Än","Ã¡n","ÇŽn","Ã n","Ä“n","Ã©n","Ä›n","Ã¨n","Ä«n","Ã­n","Çn","Ã¬n","Å«n","Ãºn","Ç”n","Ã¹n","Äng","Ã¡ng","ÇŽng","Ã ng","Ä“ng","Ã©ng","Ä›ng","Ã¨ng","Ä«ng","Ã­ng","Çng","Ã¬ng","Ång","Ã³ng","Ç’ng","Ã²ng","uÄ","uÃ¡","uÇŽ","uÃ ","uÅ","uÃ³","uÇ’","uÃ²","uÄi","uÃ¡i","uÇŽi","uÃ i","uÄ“i","uÃ©i","uÄ›i","uÃ¨i","uÄn","uÃ¡n","uÇŽn","uÃ n","uÄ“n","uÃ©n","uÄ›n","uÃ¨n","uÄng","uÃ¡ng","uÇŽng","uÃ ng","uÄ“ng","uÃ©ng","uÄ›ng","uÃ¨ng","iÄ","iÃ¡","iÇŽ","iÃ ","iÄo","iÃ¡o","iÇŽo","iÃ o","iÅu","iÃ³u","iÇ’u","iÃ²u","iÄn","iÃ¡n","iÇŽn","iÃ n","iÄng","iÃ¡ng","iÇŽng","iÃ ng","iÅng","iÃ³ng","iÇ’ng","iÃ²ng"].some(n=>i.includes(n.replace(/[ÄÃ¡ÇŽÃ Ä“Ã©Ä›Ã¨Ä«Ã­ÇÃ¬ÅÃ³Ç’Ã²Å«ÃºÇ”Ã¹ÇšÇ˜ÇœÇ–]/g,f=>f))||i.includes(n))},handleDragStart(i,t){i.dataTransfer.setData("text/plain",this.availablePieces[t].text),this.draggingIndex=t},handleDragOver(i,t){i.preventDefault(),this.dragOverIndex=t},handleDrop(i,t){i.preventDefault();const n=i.dataTransfer.getData("text/plain");if(this.dropZones[t]===""){this.dropZones.splice(t,1,n);const f=this.availablePieces.findIndex(o=>o.text===n&&!o.used);f!==-1&&(this.availablePieces[f].used=!0),this.playSound("place")}this.dragOverIndex=null},handleDragEnd(){this.draggingIndex=null,this.dragOverIndex=null},handlePieceClick(i,t){this.availablePieces[t].used||(this.selectedPiece=this.selectedPiece===i?null:i)},handleDropZoneClick(i){if(this.selectedPiece&&this.dropZones[i]===""){this.dropZones.splice(i,1,this.selectedPiece);const t=this.availablePieces.findIndex(n=>n.text===this.selectedPiece&&!n.used);t!==-1&&(this.availablePieces[t].used=!0),this.selectedPiece=null,this.playSound("place")}},checkAnswer(){JSON.stringify(this.dropZones)===JSON.stringify(this.currentLevelData.answer)?(this.score+=100,this.showSuccess(),this.playSound("success"),setTimeout(()=>{this.nextLevel()},2e3)):(alert("å†è¯•è¯•çœ‹ï¼æ£€æŸ¥ä¸€ä¸‹æ‹¼éŸ³æ˜¯å¦æ­£ç¡®å“¦ ðŸ˜Š"),this.playSound("error"))},nextLevel(){this.currentLevel++,this.currentLevel>this.levels.length&&(alert(`æ­å–œä½ å®Œæˆäº†æ‰€æœ‰å…³å¡ï¼
æ€»å¾—åˆ†: ${this.score}åˆ†
ðŸŽ‰ðŸŽ‰ðŸŽ‰`),this.currentLevel=1,this.score=0),this.loadLevel()},resetGame(){this.currentLevel=1,this.score=0,this.loadLevel()},showSuccess(){this.showSuccessAnimation=!0,setTimeout(()=>{this.showSuccessAnimation=!1},1e3),this.createConfetti()},createConfetti(){const i=["#4299e1","#38a169","#ed8936","#9f40ba","#f56565"];for(let t=0;t<50;t++){const n={id:Date.now()+t,style:{left:Math.random()*100+"%",background:i[Math.floor(Math.random()*i.length)],animationDelay:Math.random()*3+"s",animationDuration:Math.random()*3+2+"s"}};this.confettiList.push(n),setTimeout(()=>{const f=this.confettiList.findIndex(o=>o.id===n.id);f!==-1&&this.confettiList.splice(f,1)},5e3)}},playSound(i){console.log(`Playing ${i} sound`)}}},Ie={class:"game-container"},Me={class:"header"},Ne={class:"score"},Te={class:"game-area"},Ae={class:"target-area"},Ge={class:"target-image"},Oe={class:"drop-zones"},Ze=["onDragover","onDrop","onClick"],$e={class:"pieces-area"},je=["draggable","onDragstart","onClick"],Ee={class:"controls"},ze={key:0,class:"success-animation"},Ue={class:"celebration"};function Fe(i,t,n,f,o,r){return h(),m("div",Ie,[e("div",Me,[t[6]||(t[6]=e("h1",{class:"title"},"ðŸ§© å£°æ¯éŸµæ¯æ‹¼è£…æ¸¸æˆ",-1)),e("div",Ne,[t[4]||(t[4]=R("å¾—åˆ†: ")),e("span",null,d(o.score),1),t[5]||(t[5]=R(" | å…³å¡: ")),e("span",null,d(o.currentLevel),1)])]),e("div",Te,[e("div",Ae,[t[7]||(t[7]=e("div",{class:"target-word"},"æ‹¼å‡ºä¸‹é¢çš„æ‹¼éŸ³:",-1)),e("div",Ge,d(r.currentLevelData.emoji),1),e("div",null,d(r.currentLevelData.pinyin)+" ("+d(r.currentLevelData.word)+")",1),e("div",Oe,[(h(!0),m(P,null,x(o.dropZones,(s,u)=>(h(),m("div",{key:u,class:S(["drop-zone",{"drag-over":o.dragOverIndex===u,filled:s!=="",clickable:o.selectedPiece&&s===""}]),onDragover:v=>r.handleDragOver(v,u),onDrop:v=>r.handleDrop(v,u),onClick:v=>r.handleDropZoneClick(u)},d(s),43,Ze))),128))])]),e("div",$e,[(h(!0),m(P,null,x(o.availablePieces,(s,u)=>(h(),m("div",{key:u,class:S(["piece",{vowel:r.isVowel(s.text),dragging:o.draggingIndex===u,selected:o.selectedPiece===s.text&&!s.used,used:s.used}]),style:$({display:s.used?"none":"flex"}),draggable:!s.used,onDragstart:v=>r.handleDragStart(v,u),onDragend:t[0]||(t[0]=(...v)=>r.handleDragEnd&&r.handleDragEnd(...v)),onClick:v=>r.handlePieceClick(s.text,u)},d(s.text),47,je))),128))]),e("div",Ee,[e("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...s)=>r.checkAnswer&&r.checkAnswer(...s))},"ðŸŽ¯ æ£€æŸ¥ç­”æ¡ˆ"),e("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=(...s)=>r.nextLevel&&r.nextLevel(...s))},"ðŸŽ‰ ä¸‹ä¸€å…³"),e("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...s)=>r.resetGame&&r.resetGame(...s))},"ðŸ”„ é‡æ–°å¼€å§‹")])]),o.showSuccessAnimation?(h(),m("div",ze," ðŸŽ‰ å¤ªæ£’äº†ï¼ ")):N("",!0),e("div",Ue,[(h(!0),m(P,null,x(o.confettiList,s=>(h(),m("div",{key:s.id,class:"confetti",style:$(s.style)},null,4))),128))])])}const Re=H(Le,[["render",Fe],["__scopeId","data-v-4448c7db"]]),Je=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"game/index.md","filePath":"game/index.md","lastUpdated":1748489095000}'),Be={name:"game/index.md"},Ve=ae({...Be,setup(i){const t=ne(),n=oe(),o=(()=>{const s=new URL(window.location.href),u=new URLSearchParams(s.search);return{get:(v,y="")=>u.get(v)||y,getAll:()=>{const v={};return u.forEach((y,b)=>{v[b]=y}),v},has:v=>u.has(v),getArray:v=>u.getAll(v)}})(),r=g("");return r.value=o.get("type",""),console.log("location",window.location.href),console.log("route",n),console.log("router",t),console.log("æ‰€æœ‰URLå‚æ•°:",o.getAll()),console.log("èŽ·å–sizeå‚æ•°:",o.get("type","")),console.log("æ£€æŸ¥æ˜¯å¦æœ‰debugå‚æ•°:",o.has("debug")),(s,u)=>(h(),m("div",null,[r.value=="shuerte"?(h(),B(xe,{key:0})):N("",!0),r.value=="pinyin"?(h(),B(Re,{key:1})):N("",!0)]))}});export{Je as __pageData,Ve as default};
